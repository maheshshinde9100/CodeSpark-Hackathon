<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>Neon Quiz • By Mahesh</title>
  <meta name="description" content="Futuristic quiz app powered by the Open Trivia DB public API." />

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    rel="stylesheet"
  />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&family=Inter:wght@300;400;600;800&display=swap"
    rel="stylesheet"
  />

  <style>
    :root{
      --bg-1:#05060f;
      --bg-2:#100618;
      --neon-cyan:#22d3ee;
      --neon-fuchsia:#a78bfa;
      --neon-pink:#ec4899;
      --card:#0b0f1f;
      --muted:#a8b3cf;
      --good:#22c55e;
      --bad:#ef4444;
      --warn:#f59e0b;
    }

    html,body{
      height:100%;
      background: radial-gradient(1200px 800px at 20% -10%, #1a0b2e 0%, transparent 60%),
                  radial-gradient(1000px 600px at 110% 10%, #0b2830 0%, transparent 55%),
                  linear-gradient(180deg, var(--bg-1), var(--bg-2));
      color: #e9ecf2;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", sans-serif;
      overflow-x:hidden;
    }

    /* Animated Background FX */
    .fx-blobs, .fx-grid, .fx-scan, .fx-stars { pointer-events:none; position:fixed; inset:0; z-index:-1; }
    .fx-blobs::before,
    .fx-blobs::after{
      content:"";
      position:absolute;
      width:38rem; height:38rem;
      border-radius:50%;
      filter: blur(64px);
      mix-blend-mode: screen;
      animation: pulse 10s ease-in-out infinite;
      opacity:.35;
    }
    .fx-blobs::before{
      left:-12rem; top:-10rem; background: radial-gradient(circle at 30% 30%, var(--neon-cyan), transparent 60%);
    }
    .fx-blobs::after{
      right:-12rem; bottom:-12rem; background: radial-gradient(circle at 70% 70%, var(--neon-fuchsia), transparent 60%);
      animation-delay: 2s;
    }
    @keyframes pulse { 0%,100%{ transform:scale(1); } 50%{ transform:scale(1.08);} }

    .fx-grid{
      opacity:.28;
      mask-image: radial-gradient(closest-side, rgba(0,0,0,.95) 0%, rgba(0,0,0,.2) 60%, transparent 100%);
      background-image:
        linear-gradient(rgba(255,255,255,0.07) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.07) 1px, transparent 1px);
      background-size: 40px 40px;
    }
    .fx-scan{
      background: repeating-linear-gradient(
        transparent 0px, transparent 3px, rgba(255,255,255,.03) 4px, transparent 5px
      );
      animation: scan 8s linear infinite;
      opacity:.6;
    }
    @keyframes scan { 0%{ background-position: 0 0; } 100% { background-position: 0 200px; } }
    .fx-stars{
      background-image:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.15), transparent 40%),
        radial-gradient(2px 2px at 80% 10%, rgba(255,255,255,.12), transparent 40%),
        radial-gradient(2px 2px at 60% 70%, rgba(255,255,255,.10), transparent 40%),
        radial-gradient(2px 2px at 15% 80%, rgba(255,255,255,.15), transparent 40%);
      animation: twinkle 6s ease-in-out infinite;
      opacity:.6;
    }
    @keyframes twinkle { 0%,100%{ opacity:.6 } 50%{ opacity:.85 } }

    .glass{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.05);
    }
    .neon-border{
      position: relative;
    }
    .neon-border::after{
      content:"";
      position:absolute; inset:-1px;
      border-radius: inherit;
      background: conic-gradient(
        from 0deg,
        rgba(34,211,238,.4), rgba(167,139,250,.35), rgba(236,72,153,.35), rgba(34,211,238,.4)
      );
      filter: blur(12px);
      opacity:.4;
      z-index:-1;
    }

    .brand{
      font-family: Orbitron, Inter, sans-serif;
      letter-spacing: .08em;
      font-weight: 800;
      background: linear-gradient(90deg, var(--neon-cyan), var(--neon-fuchsia), var(--neon-pink));
      -webkit-background-clip: text; background-clip: text;
      color: transparent;
    }

    .btn-neon{
      --c1: var(--neon-cyan); --c2: var(--neon-fuchsia);
      background: linear-gradient(90deg, var(--c1), var(--c2));
      border: none;
      color: #0b0f1f;
      font-weight: 700;
      box-shadow: 0 8px 20px rgba(34,211,238,.25), 0 0 0 1px rgba(255,255,255,.07) inset;
    }
    .btn-neon:hover{ filter: saturate(1.1) brightness(1.05); }
    .btn-ghost{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.16);
      color: #e9ecf2;
    }
    .btn-ghost:hover{ background: rgba(255,255,255,.12); }

    .badge-soft{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.16);
      color: #e9ecf2;
    }

    /* Radial Timer (SVG) */
    .timer-wrap{
      position: relative; width:120px; height:120px;
    }
    .timer-wrap .time{
      position:absolute; inset:0; display:grid; place-items:center;
      font-weight:800; font-size:1.25rem; color:#e9ecf2;
    }
    .timer-ring{
      transform: rotate(-90deg);
      filter: drop-shadow(0 0 10px rgba(34,211,238,.3));
    }
    .timer-bg { stroke: rgba(255,255,255,.08); }
    .timer-fg { stroke: url(#grad1); stroke-linecap: round; }

    /* Option buttons */
    .option{
      text-align:left;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.12);
      color:#e9ecf2;
      transition: all .2s ease;
    }
    .option:hover{ background: rgba(255,255,255,.1); transform: translateY(-1px); }
    .option.correct{
      border-color: rgba(34,197,94,.5);
      background: linear-gradient(180deg, rgba(34,197,94,.15), rgba(34,197,94,.05));
      box-shadow: 0 0 0 1px rgba(34,197,94,.2) inset;
    }
    .option.wrong{
      border-color: rgba(239,68,68,.5);
      background: linear-gradient(180deg, rgba(239,68,68,.15), rgba(239,68,68,.05));
      box-shadow: 0 0 0 1px rgba(239,68,68,.2) inset;
    }
    .option.disabled{ pointer-events:none; opacity:.7; }

    /* Skeleton */
    .skeleton{
      border-radius: .5rem;
      background: linear-gradient(90deg, rgba(255,255,255,.05), rgba(255,255,255,.12), rgba(255,255,255,.05));
      background-size: 200% 100%;
      animation: shimmer 1.2s linear infinite;
    }
    @keyframes shimmer { 0%{ background-position: 200% 0; } 100%{ background-position: -200% 0; } }

    /* Results donut */
    .donut{
      --p: 0;
      width:140px; height:140px;
      border-radius:50%;
      background:
        radial-gradient(farthest-side, #0b0f1f 55%, transparent 56%),
        conic-gradient(var(--neon-cyan) calc(var(--p)*1%), rgba(255,255,255,.12) 0);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.1);
    }
    .donut-label{
      position:absolute; inset:0; display:grid; place-items:center; font-weight:800;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .fx-blobs,.fx-grid,.fx-scan,.fx-stars{ display:none; }
      .neon-border::after{ display:none; }
    }
  </style>
</head>
<body>
   <!-- Background FX layers  -->
  <div class="fx-blobs"></div>
  <div class="fx-grid"></div>
  <div class="fx-scan"></div>
  <div class="fx-stars"></div>

   <!-- Top bar  -->
  <nav class="navbar navbar-dark" style="background:rgba(0,0,0,.25); backdrop-filter: blur(8px); border-bottom:1px solid rgba(255,255,255,.08);">
    <div class="container">
      <span class="navbar-brand mb-0 h1 brand">NEON QUIZ</span>
      <div class="d-flex align-items-center gap-2">
        <button id="reduceFxBtn" class="btn btn-ghost btn-sm">
          <i class="bi bi-stars me-1"></i>
          Toggle FX
        </button>
        <a class="btn btn-ghost btn-sm" href="about.html">
          <i class="bi bi-person-badge me-1"></i> About Dev
        </a>
        <a class="btn btn-neon btn-sm" href="https://opentdb.com/api_config.php" target="_blank" rel="noopener">
          <i class="bi bi-box-arrow-up-right me-1"></i> API
        </a>
      </div>
    </div>
  </nav>

  <main class="container py-4 py-md-5">

     <!-- Config Card  -->
    <section id="config-card" class="glass neon-border rounded-4 p-3 p-md-4 mb-4">
      <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2 mb-3">
        <h1 class="h4 m-0 brand">Configure Your Quiz</h1>
        <div class="d-flex flex-wrap gap-2">
          <button id="quickSample" type="button" class="btn btn-neon btn-sm">
            <i class="bi bi-lightning-charge-fill me-1"></i> Quick Start: Sample API
          </button>
          <button id="offlineSample" type="button" class="btn btn-ghost btn-sm">
            <i class="bi bi-wifi-off me-1"></i> Run Offline Sample
          </button>
        </div>
      </div>

      <form id="configForm" class="row g-3">
        <div class="col-12 col-md-3">
          <label class="form-label">Amount (1-50)</label>
          <input type="number" class="form-control bg-transparent text-white" id="amount" min="1" max="50" value="10" />
        </div>
        <div class="col-12 col-md-3">
          <label class="form-label">Category</label>
          <select class="form-select bg-transparent text-white" id="category">
            <option value="">Any</option>
            <option value="9">General Knowledge</option>
            <option value="10">Entertainment: Books</option>
            <option value="11">Entertainment: Film</option>
            <option value="12">Entertainment: Music</option>
            <option value="13">Entertainment: Musicals & Theatres</option>
            <option value="14">Entertainment: Television</option>
            <option value="15">Entertainment: Video Games</option>
            <option value="16">Entertainment: Board Games</option>
            <option value="17">Science & Nature</option>
            <option value="18">Science: Computers</option>
            <option value="19">Science: Mathematics</option>
            <option value="20">Mythology</option>
            <option value="21">Sports</option>
            <option value="22">Geography</option>
            <option value="23">History</option>
            <option value="24">Politics</option>
            <option value="25">Art</option>
            <option value="26">Celebrities</option>
            <option value="27">Animals</option>
            <option value="28">Vehicles</option>
            <option value="29">Entertainment: Comics</option>
            <option value="30">Science: Gadgets</option>
            <option value="31">Entertainment: Japanese Anime & Manga</option>
            <option value="32">Entertainment: Cartoon & Animations</option>
          </select>
        </div>
        <div class="col-6 col-md-2">
          <label class="form-label">Difficulty</label>
          <select class="form-select bg-transparent text-white" id="difficulty">
            <option value="">Any</option>
            <option>easy</option>
            <option>medium</option>
            <option>hard</option>
          </select>
        </div>
        <div class="col-6 col-md-2">
          <label class="form-label">Type</label>
          <select class="form-select bg-transparent text-white" id="type">
            <option value="">Any</option>
            <option value="multiple">Multiple</option>
            <option value="boolean">True/False</option>
          </select>
        </div>
        <div class="col-12 col-md-2">
          <label class="form-label">Encoding</label>
          <select class="form-select bg-transparent text-white" id="encode">
            <option value="default">default</option>
            <option value="urlLegacy">urlLegacy</option>
            <option value="url3986">url3986</option>
            <option value="base64">base64</option>
          </select>
        </div>

        <div class="col-12 col-md-6">
          <div class="form-check mt-2">
            <input class="form-check-input" type="checkbox" id="penalty" />
            <label class="form-check-label" for="penalty">
              Apply -0.5 penalty for wrong answers
            </label>
          </div>
        </div>

        <div class="col-12 col-md-6 text-md-end">
          <button type="submit" class="btn btn-neon mt-2">
            <i class="bi bi-play-fill me-1"></i> Start Quiz
          </button>
        </div>
      </form>

      <div class="small text-secondary mt-3">
        API URL: <span id="apiUrlPreview" class="text-info-emphasis"></span>
      </div>

      <div class="small text-secondary mt-2">
        <!-- Tip: If a category/difficulty returns no questions, the app retries with broader settings automatically. -->
      </div>
    </section>

     <!-- Loading / Skeleton  -->
    <section id="loading" class="glass rounded-4 p-4 d-none">
      <div class="row align-items-center g-3">
        <div class="col-auto">
          <div class="spinner-border text-info" role="status"></div>
        </div>
        <div class="col">
          <div class="skeleton" style="height:16px;width:40%"></div>
          <div class="skeleton mt-2" style="height:16px;width:70%"></div>
          <div class="small text-secondary mt-2">
            Fetching from: <span id="apiUrlLive" class="text-info-emphasis"></span>
          </div>
        </div>
      </div>
    </section>

     <!-- Quiz Card  -->
    <section id="quiz-card" class="glass neon-border rounded-4 p-3 p-md-4 d-none">
      <div class="d-flex flex-wrap align-items-center justify-content-between gap-2 mb-3">
        <div class="d-flex align-items-center gap-2">
          <span id="qCounter" class="badge bg-info-subtle text-info-emphasis">Q 1/10</span>
          <span id="qCategory" class="badge badge-soft">Category</span>
          <span id="qDifficulty" class="badge badge-soft">Difficulty</span>
        </div>
        <div class="d-flex align-items-center gap-3">
           Timer 
          <div class="timer-wrap">
            <svg class="timer-ring" width="120" height="120">
              <defs>
                <linearGradient id="grad1" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#22d3ee"/>
                  <stop offset="100%" stop-color="#a78bfa"/>
                </linearGradient>
              </defs>
              <circle class="timer-bg" cx="60" cy="60" r="52" stroke-width="10" fill="none"></circle>
              <circle id="timerFg" class="timer-fg" cx="60" cy="60" r="52" stroke-width="10" fill="none" stroke-dasharray="326.72" stroke-dashoffset="0"></circle>
            </svg>
            <div class="time"><span id="timeLabel">30</span>s</div>
          </div>
        </div>
      </div>

      <div class="mb-3">
        <div id="questionText" class="fs-5 fw-semibold"></div>
      </div>

      <div id="options" class="d-grid gap-2"></div>

      <div class="d-flex align-items-center justify-content-between mt-3">
        <div class="text-secondary small">Scoring: +1 correct, +time bonus, <span id="penaltyHint">no penalty</span>.</div>
        <div class="d-flex gap-2">
          <button id="skipBtn" class="btn btn-ghost"><i class="bi bi-skip-forward me-1"></i> Skip</button>
          <button id="nextBtn" class="btn btn-neon" disabled><i class="bi bi-arrow-right-circle me-1"></i> Next</button>
        </div>
      </div>

      <div class="progress mt-3" style="height:8px;">
        <div id="progressBar" class="progress-bar bg-info" role="progressbar" style="width: 0%;"></div>
      </div>
    </section>

     <!-- Results Card  -->
    <section id="results-card" class="glass neon-border rounded-4 p-4 d-none">
      <div class="row g-4 align-items-center">
        <div class="col-12 col-md-auto position-relative">
          <div class="donut" id="donut" style="--p:0;"></div>
          <div class="donut-label">
            <div class="text-center">
              <div class="fw-bold fs-3" id="scoreLabel">0</div>
              <div class="text-secondary small">Score</div>
            </div>
          </div>
        </div>
        <div class="col">
          <h2 class="h4 brand">Results</h2>
          <div class="row g-2">
            <div class="col-6 col-md-3">
              <div class="badge badge-soft w-100 py-2"><i class="bi bi-check2-circle text-success me-1"></i> Correct: <span id="correctCount">0</span></div>
            </div>
            <div class="col-6 col-md-3">
              <div class="badge badge-soft w-100 py-2"><i class="bi bi-x-circle text-danger me-1"></i> Wrong: <span id="wrongCount">0</span></div>
            </div>
            <div class="col-6 col-md-3">
              <div class="badge badge-soft w-100 py-2"><i class="bi bi-percent text-info me-1"></i> %: <span id="percent">0</span></div>
            </div>
            <div class="col-6 col-md-3">
              <div class="badge badge-soft w-100 py-2"><i class="bi bi-stopwatch text-warning me-1"></i> Avg s: <span id="avgTime">0</span></div>
            </div>
          </div>
          <div class="mt-3 d-flex gap-2">
            <button id="downloadJson" class="btn btn-ghost"><i class="bi bi-download me-1"></i> Breakdown JSON</button>
            <button id="playAgain" class="btn btn-neon"><i class="bi bi-arrow-counterclockwise me-1"></i> Play Again</button>
          </div>
        </div>
      </div>

      <hr class="border-secondary-subtle my-4" />
      <div>
        <h3 class="h6 text-secondary mb-2">Answer Breakdown</h3>
        <div class="table-responsive">
          <table class="table table-dark table-striped table-borderless align-middle" style="--bs-table-bg: rgba(255,255,255,.04);">
            <thead>
              <tr>
                <th>#</th>
                <th>Question</th>
                <th>Your Answer</th>
                <th>Correct</th>
                <th>Time (s)</th>
                <th>Result</th>
              </tr>
            </thead>
            <tbody id="breakdownBody"></tbody>
          </table>
        </div>
      </div>
    </section>

     <!-- Toasts  -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
      <div id="toast" class="toast align-items-center text-bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
          <div id="toastBody" class="toast-body"></div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    </div>
   <footer class="text-center text-white-50 py-4 small">
      © 2025 NeonQuiz - By Mahesh Shinde. All Rights Reserved.
    </footer>
  </main>

   <!-- Bootstrap JS  -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
  <script src="./js/script.js"></script>
</body>
</html>
